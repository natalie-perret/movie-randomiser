{"version":3,"sources":["server.test.js"],"names":["test","require","request","cheerio","createServer","configureDatabase","t","context","app","get","expect","then","res","$","load","text","is","first"],"mappings":";;AAAA,IAAIA,OAAOC,QAAQ,KAAR,CAAX;AACA,IAAIC,UAAUD,QAAQ,WAAR,CAAd;AACA,IAAIE,UAAUF,QAAQ,SAAR,CAAd;;AAEA,IAAIG,eAAeH,QAAQ,WAAR,CAAnB;;AAEA,IAAII,oBAAoBJ,QAAQ,2BAAR,CAAxB;AACAI,kBAAkBL,IAAlB,EAAwBI,YAAxB;;AAEAJ,KAAK,yBAAL,EAAiCM,CAAD,IAAO;AACrC,SAAOJ,QAAQI,EAAEC,OAAF,CAAUC,GAAlB,EACNC,GADM,CACF,GADE,EAENC,MAFM,CAEC,GAFD,CAAP;AAGD,CAJD;;AAMAV,KAAK,2CAAL,EAAmDM,CAAD,IAAO;AACvD,SAAOJ,QAAQI,EAAEC,OAAF,CAAUC,GAAlB,EACJC,GADI,CACA,GADA,EAEJC,MAFI,CAEG,GAFH,EAGJC,IAHI,CAGEC,GAAD,IAAS;AACb,UAAMC,IAAIV,QAAQW,IAAR,CAAaF,IAAIG,IAAjB,CAAV;AACAT,MAAEU,EAAF,CAAKH,EAAE,IAAF,EAAQI,KAAR,GAAgBF,IAAhB,EAAL,EAA6B,gBAA7B;AACD,GANI,CAAP;AAQD,CATD;;AAWAf,KAAK,OAAL,EAAeM,CAAD,IAAO;AACnB,SAAOJ,QAAQI,EAAEC,OAAF,CAAUC,GAAlB,CAAP;AAED,CAHD","file":"server.test.js","sourcesContent":["var test = require('ava')\nvar request = require('supertest')\nvar cheerio = require('cheerio')\n\nvar createServer = require('../server')\n\nvar configureDatabase = require('./helpers/database-config')\nconfigureDatabase(test, createServer)\n\ntest('Check if homepage loads', (t) => {\n  return request(t.context.app)\n  .get('/')\n  .expect(200)\n})\n\ntest('Check if the title is displayed correctly', (t) => {\n  return request(t.context.app)\n    .get('/')\n    .expect(200)\n    .then((res) => {\n      const $ = cheerio.load(res.text)\n      t.is($('h1').first().text(), 'The Undecideds')\n    })\n\n})\n\ntest('GET /', (t) => {\n  return request(t.context.app)\n\n})\n"]}