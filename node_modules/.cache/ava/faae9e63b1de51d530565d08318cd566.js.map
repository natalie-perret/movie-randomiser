{"version":3,"sources":["db.test.js"],"names":["test","require","configureDatabase","db","t","expected","getUsers","context","connection","then","result","actual","length","is","getUser","name"],"mappings":";;AAAA;AACA;AACA;;AAEA,IAAIA,OAAOC,QAAQ,KAAR,CAAX;;AAEA,IAAIC,oBAAoBD,QAAQ,2BAAR,CAAxB;AACAC,kBAAkBF,IAAlB;;AAEA,IAAIG,KAAKF,QAAQ,OAAR,CAAT;;AAEAD,KAAK,yBAAL,EAAgC,UAAUI,CAAV,EAAa;AAC3C;AACA,MAAIC,WAAW,EAAf;AACA,SAAOF,GAAGG,QAAH,CAAYF,EAAEG,OAAF,CAAUC,UAAtB,EACJC,IADI,CACC,UAAUC,MAAV,EAAkB;AACtB,QAAIC,SAASD,OAAOE,MAApB;AACAR,MAAES,EAAF,CAAKR,QAAL,EAAeM,MAAf;AACD,GAJI,CAAP;AAKD,CARD;;AAUAX,KAAK,6BAAL,EAAoC,UAAUI,CAAV,EAAa;AAC/C,MAAIC,WAAW,oBAAf;AACA,SAAOF,GAAGW,OAAH,CAAW,KAAX,EAAkBV,EAAEG,OAAF,CAAUC,UAA5B,EACJC,IADI,CACC,UAAUC,MAAV,EAAkB;AACtB,QAAIC,SAASD,OAAO,CAAP,EAAUK,IAAvB;AACAX,MAAES,EAAF,CAAKR,QAAL,EAAeM,MAAf;AACD,GAJI,CAAP;AAKD,CAPD","file":"db.test.js","sourcesContent":["// Note: we use AVA here because it makes setting up the\n// conditions for each test relatively simple. The same\n// can be done with Tape using a bit more code.\n\nvar test = require('ava')\n\nvar configureDatabase = require('./helpers/database-config')\nconfigureDatabase(test)\n\nvar db = require('../db')\n\ntest('getUsers gets all users', function (t) {\n  // One for each letter of the alphabet!\n  var expected = 26\n  return db.getUsers(t.context.connection)\n    .then(function (result) {\n      var actual = result.length\n      t.is(expected, actual)\n    })\n})\n\ntest('getUsers gets a single user', function (t) {\n  var expected = 'Ambitious Aardvark'\n  return db.getUser(99901, t.context.connection)\n    .then(function (result) {\n      var actual = result[0].name\n      t.is(expected, actual)\n    })\n})\n"]}