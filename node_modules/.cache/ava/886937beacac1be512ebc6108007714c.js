'use strict';

var test = require('ava');
var request = require('supertest');
var cheerio = require('cheerio');

var createServer = require('../server');

var configureDatabase = require('./helpers/database-config');
configureDatabase(test, createServer);

test('Check if homepage loads', t => {
  return request(t.context.app).get('/').expect(200);
});

test('Check if the title is displayed correctly', t => {
  return request(t.context.app).get('/').expect(200).then(res => {
    const $ = cheerio.load(res.text);
    t.is($('h1').first().text(), 'The Undecideds');
  });
});

test('GET /', t => {
  return request(t.context.app);
});
//# sourceMappingURL=../node_modules/.cache/ava/886937beacac1be512ebc6108007714c.js.map